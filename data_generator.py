import numpy as np
import random
import string
import vigenere
import substitution
import statistics
import transposition

def generate_data(count):
    data = []
    labels = []

    config = {"vigenere": 0,
              "substitution": 1

        }

    pt = list('TOSHERLOCKHOLMESSHEISALWAYSTHEWOMANIHAVESELDOMHEARDHIMMENTIONHERUNDERANYOTHERNAMEINHISEYESSHEECLIPSESANDPREDOMINATESTHEWHOLEOFHERSEXITWASNOTTHATHEFELTANYEMOTIONAKINTOLOVEFORIRENEADLERALLEMOTIONSANDTHATONEPARTICULARLYWEREABHORRENTTOHISCOLDPRECISEBUTADMIRABLYBALANCEDMINDHEWASITAKEITTHEMOSTPERFECTREASONINGANDOBSERVINGMACHINETHATTHEWORLDHASSEENBUTASALOVERHEWOULDHAVEPLACEDHIMSELFINAFALSEPOSITIONHENEVERSPOKEOFTHESOFTERPASSIONSSAVEWITHAGIBEANDASNEERTHEYWEREADMIRABLETHINGSFORTHEOBSERVEREXCELLENTFORDRAWINGTHEVEILFROMMENSMOTIVESANDACTIONSBUTFORTHETRAINEDREASONERTOADMITSUCHINTRUSIONSINTOHISOWNDELICATEANDFINELYADJUSTEDTEMPERAMENTWASTOINTRODUCEADISTRACTINGFACTORWHICHMIGHTTHROWADOUBTUPONALLHISMENTALRESULTSGRITINASENSITIVEINSTRUMENTORACRACKINONEOFHISOWNHIGHPOWERLENSESWOULDNOTBEMOREDISTURBINGTHANASTRONGEMOTIONINANATURESUCHASHISANDYETTHEREWASBUTONEWOMANTOHIMANDTHATWOMANWASTHELATEIRENEADLEROFDUBIOUSANDQUESTIONABLEMEMORYIHADSEENLITTLEOFHOLMESLATELYMYMARRIAGEHADDRIFTEDUSAWAYFROMEACHOTHERMYOWNCOMPLETEHAPPINESSANDTHEHOMECENTREDINTERESTSWHICHRISEUPAROUNDTHEMANWHOFIRSTFINDSHIMSELFMASTEROFHISOWNESTABLISHMENTWERESUFFICIENTTOABSORBALLMYATTENTIONWHILEHOLMESWHOLOATHEDEVERYFORMOFSOCIETYWITHHISWHOLEBOHEMIANSOULREMAINEDINOURLODGINGSINBAKERSTREETBURIEDAMONGHISOLDBOOKSANDALTERNATINGFROMWEEKTOWEEKBETWEENCOCAINEANDAMBITIONTHEDROWSINESSOFTHEDRUGANDTHEFIERCEENERGYOFHISOWNKEENNATUREHEWASSTILLASEVERDEEPLYATTRACTEDBYTHESTUDYOFCRIMEANDOCCUPIEDHISIMMENSEFACULTIESANDEXTRAORDINARYPOWERSOFOBSERVATIONINFOLLOWINGOUTTHOSECLUESANDCLEARINGUPTHOSEMYSTERIESWHICHHADBEENABANDONEDASHOPELESSBYTHEOFFICIALPOLICEFROMTIMETOTIMEIHEARDSOMEVAGUEACCOUNTOFHISDOINGSOFHISSUMMONSTOODESSAINTHECASEOFTHETREPOFFMURDEROFHISCLEARINGUPOFTHESINGULARTRAGEDYOFTHEATKINSONBROTHERSATTRINCOMALEEANDFINALLYOFTHEMISSIONWHICHHEHADACCOMPLISHEDSODELICATELYANDSUCCESSFULLYFORTHEREIGNINGFAMILYOFHOLLANDBEYONDTHESESIGNSOFHISACTIVITYHOWEVERWHICHIMERELYSHAREDWITHALLTHEREADERSOFTHEDAILYPRESSIKNEWLITTLEOFMYFORMERFRIENDANDCOMPANIONONENIGHTITWASONTHETWENTIETHOFMARCHIWASRETURNINGFROMAJOURNEYTOAPATIENTFORIHADNOWRETURNEDTOCIVILPRACTICEWHENMYWAYLEDMETHROUGHBAKERSTREETASIPASSEDTHEWELLREMEMBEREDDOORWHICHMUSTALWAYSBEASSOCIATEDINMYMINDWITHMYWOOINGANDWITHTHEDARKINCIDENTSOFTHESTUDYINSCARLETIWASSEIZEDWITHAKEENDESIRETOSEEHOLMESAGAINANDTOKNOWHOWHEWASEMPLOYINGHISEXTRAORDINARYPOWERSHISROOMSWEREBRILLIANTLYLITANDEVENASILOOKEDUPISAWHISTALLSPAREFIGUREPASSTWICEINADARKSILHOUETTEAGAINSTTHEBLINDHEWASPACINGTHEROOMSWIFTLYEAGERLYWITHHISHEADSUNKUPONHISCHESTANDHISHANDSCLASPEDBEHINDHIMTOMEWHOKNEWHISEVERYMOODANDHABITHISATTITUDEANDMANNERTOLDTHEIROWNSTORYHEWASATWORKAGAINHEHADRISENOUTOFHISDRUGCREATEDDREAMSANDWASHOTUPONTHESCENTOFSOMENEWPROBLEMIRANGTHEBELLANDWASSHOWNUPTOTHECHAMBERWHICHHADFORMERLYBEENINPARTMYOWNHISMANNERWASNOTEFFUSIVEITSELDOMWASBUTHEWASGLADITHINKTOSEEMEWITHHARDLYAWORDSPOKENBUTWITHAKINDLYEYEHEWAVEDMETOANARMCHAIRTHREWACROSSHISCASEOFCIGARSANDINDICATEDASPIRITCASEANDAGASOGENEINTHECORNERTHENHESTOODBEFORETHEFIREANDLOOKEDMEOVERINHISSINGULARINTROSPECTIVEFASHION')

    key = list(string.ascii_uppercase)
    for x in range(count):
        random.shuffle(key)
        data.append(vigenere.encrypt_vigenere(pt, key))
        labels.append(config["vigenere"])

    for x in range(count):
        random.shuffle(key)
        data.append(substitution.encrypt_substitution(pt, key))
        labels.append(config["substitution"])

    return np.array(list(map(lambda x: [func(x) for func in statistics.stats_funcs], data))), np.asarray(labels)
        


    
